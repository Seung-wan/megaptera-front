# 학습 키워드

- 카테고리 관리

## 강의 정리

### 카테고리 관리

이름과 표시 여부만 관리하면 된다.  
useFetchUsers 훅을 그대로 가져와서, user만 categories로 바꿔준다.

카테고리를 추가할 때는 추가하고 나서 mutate를 해줘야 한다. 캐시값을 새로 갱신해줘야한다.  
만약 내가 직접 수정을 한 경우에는 데이터가 어떻게 바뀌었는지 알고 있기 때문에 서버에 요청을 줄이기 위해 직접 캐시 데이터를 변경해줄 수도 있다.  
다만 여러 사용자가 다룰 수 있는 Server State라면 무조건 mutate를 해줘야 할 것이고, 그게 아니라면 직접 캐시 데이터를 변경해줘도 될 것 같다.  
카테고리를 하나 감췄을 때, all 카테고리에서도 보이지 않게 해줘야 한다. 서버단에서 이에 해당하는 로직이 처리되는게 적합할 것 같다.

현재 카테고리를 수정할 때는, 페이지 하나를 더 들어가서 해당 페이지에서 수정하게 되는데 따라서 카테고리 데이터를 모두 갖고 있기 때문에 수정하기가 용이하다.  
하지만 페이지를 들어가지 않고, 카테고리 목록에서 on/off로 토글처럼 hidden을 관리하려면 추가적인 데이터가 필요해서 이를 처리해주거나, api 수정이 필요하다.  
주의할 것은 state를 setter function으로 변경할 때, 바로 변경된 state가 반영되지 않는다는 것. Queue에 쌓아 놓고 원하는 값이 나올때 처리를 해준다거나 복잡해진다. api를 하나 짜는게 좋을 것 같다.
