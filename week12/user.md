# 학습 키워드

- 로그인

## 강의 정리

### 로그인

관리자 사이트는 무조건 로그인을 해야 한다. 권한이 있는 사용자만 사용할 수 있기 때문이다.  
라우터를 설정할 때 모든 페이지의 공통 컴포넌트인 Layout 컴포넌트에서 로그인이 되어 있지 않으면 팅겨내는 로직을 작성하고,  
로그인 페이지만 Layout 밖으로 뺀다.

Layout 컴포넌트에서는 useCheckAccessToken 훅을 이용하여 AccessToken을 검증하여 리다이렉트 하거나 정상적으로 렌더링 시킨다.  
유저가 사용하는 페이지에서는 헤더를 로그인 유무에 따라 구분해야 했지만, 관리자 사이트는 상관이 없다. 물론 관리자 계정의 권한에 따라서도 구분해줄 수는 있다.

사용자 관리는 디테일하게 들어갈수록 정말 복잡하다.  
swr를 활용하여 유저 정보를 불러올 것, swr을 그대로 사용하지 않고 래핑해서 사용한다.

swr을 직접적으로 사용하는 useFetch 훅, useFetch 훅을 기반으로 각 모델 데이터를 불러오는 훅을 만든다. useFetchUsers  
래핑을 하게되면 추상화를 통해 api url, fetcher function등을 감추고, 모델 데이터의 타입과 endpoint만 넣어주면 데이터를 불러올 수 있다.
